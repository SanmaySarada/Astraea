---
status: complete
phase: 02.1-ref-data-fixes
source: 02.1-01-SUMMARY.md, 02.1-02-SUMMARY.md, 02.1-03-SUMMARY.md, 02.1-04-SUMMARY.md
started: 2026-02-27T09:30:00Z
updated: 2026-02-27T09:31:00Z
---

## Current Test

[testing complete]

## Tests

### 1. CT Codelist C-Codes Correct
expected: All 11 codelists loadable by NCI C-code (C66731, C74457, C66790, C66742, ISO3166, C66781, C66729, C66769, C66768, C71620, C71113). Race extensible=True. NY has U term.
result: pass
method: automated (runtime CTReference.lookup_codelist + validate_term)

### 2. Date Conversion: SAS Numeric Rounding
expected: sas_date_to_iso(22738.9999) returns "2022-04-04" (round, not truncate to 22738)
result: pass
method: automated (runtime call)

### 3. Date Conversion: Invalid Date Rejection
expected: parse_string_date_to_iso("30 Feb 2022") returns empty string
result: pass
method: automated (runtime call)

### 4. Date Conversion: UN/UNK Partial Dates
expected: "UN UNK 2004" -> "2004", "16 MAY 2022 21:30" -> "2022-05-16T21:30"
result: pass
method: automated (runtime call)

### 5. USUBJID NaN Rejection
expected: generate_usubjid("STUDY", "nan", "001") raises ValueError
result: pass
method: automated (runtime call)

### 6. EDC System Columns Updated
expected: EDC_SYSTEM_COLUMNS contains subject, sitenumber, site, sitegroup (29 total)
result: pass
method: automated (frozenset inspection)

### 7. domains.json: DA Domain Class
expected: DA domain_class = Findings (not Interventions)
result: pass
method: automated (SDTMReference.get_domain_spec)

### 8. domains.json: Core Designations
expected: DM.ARMCD=Exp, DM.ARM=Exp, DM.ETHNIC=Perm (not Req/Exp)
result: pass
method: automated (variable core field inspection)

### 9. domains.json: Codelist Assignments
expected: AE.AESER codelist = C66742 (NY), not C66790
result: pass
method: automated (variable codelist_code inspection)

### 10. domains.json: Key Variables for 9 Domains
expected: DM, AE, CM, EX, LB, VS, EG, DS, MH all have non-empty key_variables. LB includes LBSPEC.
result: pass
method: automated (SDTMReference.get_domain_spec for all 9)

### 11. Full Test Suite
expected: All 490 tests pass with 0 failures
result: pass
method: automated (pytest run)

## Summary

total: 11
passed: 11
issues: 0
pending: 0
skipped: 0

## Gaps

[none]
